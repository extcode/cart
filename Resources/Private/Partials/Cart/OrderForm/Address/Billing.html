{namespace cart=Extcode\Cart\ViewHelpers}

<div id="billing-address" class="billing-address bg-light-grey">
    <h5 class="form-title">
        <span class="num">1</span>
        <span><f:translate key="tx_cart.controller.order.action.show_cart.block-header.billing_address"/></span>
    </h5>
    <div class="form-content">
        <fieldset>
            <ul class="form-list">
                <li class="fields">

                    <f:if condition="{0: settings.validation.billingAddress.fields.salutation.validator} != {0: 'Empty'}">
                        <div class="field salutation">
                            <f:if condition="{0: settings.validation.billingAddress.fields.salutation.validator} == {0: 'NotEmpty'}">
                                <f:then>
                                    <label for="billingAddress:salutation" class="required">
                                        <f:translate key="tx_cart_domain_model_order_address.salutation"/>
                                        <em>*</em>
                                    </label>
                                    <div class="input-box">
                                        <f:form.textfield id="billingAddress:salutation"
                                                          class="form-control"
                                                          name="billingAddress[salutation]"
                                                          value="{billingAddress.salutation}"
                                                          required="true"/>
                                        <f:form.validationResults for="billingAddress">
                                            <f:if condition="{validationResults.flattenedErrors.salutation}">
                                                <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.salutation.0.message}</div>
                                            </f:if>
                                        </f:form.validationResults>
                                    </div>
                                </f:then>
                                <f:else>
                                    <label for="billingAddress:salutation">
                                        <f:translate key="tx_cart_domain_model_order_address.salutation"/>
                                    </label>
                                    <div class="input-box">
                                        <f:form.textfield id="billingAddress:salutation"
                                                          class="form-control"
                                                          name="billingAddress[salutation]"
                                                          value="{billingAddress.salutation}"/>
                                    </div>
                                </f:else>
                            </f:if>
                        </div>
                    </f:if>

                    <f:if condition="{0: settings.validation.billingAddress.fields.title.validator} != {0: 'Empty'}">
                        <div class="field title">
                            <f:if condition="{0: settings.validation.billingAddress.fields.title.validator} == {0: 'NotEmpty'}">
                                <f:then>
                                    <label for="billingAddress:title" class="required">
                                        <f:translate key="tx_cart_domain_model_order_address.title"/>
                                        <em>*</em>
                                    </label>
                                    <div class="input-box">
                                        <f:form.textfield id="billingAddress:title"
                                                          class="form-control"
                                                          name="billingAddress[title]"
                                                          value="{billingAddress.title}"
                                                          required="true"/>
                                        <f:form.validationResults for="billingAddress">
                                            <f:if condition="{validationResults.flattenedErrors.title}">
                                                <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.title.0.message}</div>
                                            </f:if>
                                        </f:form.validationResults>
                                    </div>
                                </f:then>
                                <f:else>
                                    <label for="billingAddress:title">
                                        <f:translate key="tx_cart_domain_model_order_address.title"/>
                                    </label>
                                    <div class="input-box">
                                        <f:form.textfield id="billingAddress:title"
                                                          class="form-control"
                                                          name="billingAddress[title]"
                                                          value="{billingAddress.title}"/>
                                    </div>
                                </f:else>
                            </f:if>
                        </div>
                    </f:if>

                    <f:if condition="{0: settings.validation.billingAddress.fields.firstName.validator} != {0: 'Empty'}">
                        <div class="field firstName">
                            <f:if condition="{0: settings.validation.billingAddress.fields.firstName.validator} == {0: 'NotEmpty'}">
                                <f:then>
                                    <label for="billingAddress:firstName" class="required">
                                        <f:translate key="tx_cart_domain_model_order_address.first_name"/>
                                        <em>*</em>
                                    </label>
                                    <div class="input-box">
                                        <f:form.textfield id="billingAddress:firstName"
                                                          class="form-control"
                                                          name="billingAddress[firstName]"
                                                          value="{billingAddress.firstName}"
                                                          required="true"/>
                                        <f:form.validationResults for="billingAddress">
                                            <f:if condition="{validationResults.flattenedErrors.firstName}">
                                                <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.firstName.0.message}</div>
                                            </f:if>
                                        </f:form.validationResults>
                                    </div>
                                </f:then>
                                <f:else>
                                    <label for="billingAddress:firstName">
                                        <f:translate key="tx_cart_domain_model_order_address.first_name"/>
                                    </label>
                                    <div class="input-box">
                                        <f:form.textfield id="billingAddress:firstName"
                                                          class="form-control"
                                                          name="billingAddress[firstName]"
                                                          value="{billingAddress.firstName}"/>
                                    </div>
                                </f:else>
                            </f:if>
                        </div>
                    </f:if>

                    <f:if condition="{0: settings.validation.billingAddress.fields.lastName.validator} != {0: 'Empty'}">
                        <div class="field lastName">
                            <f:if condition="{0: settings.validation.billingAddress.fields.lastName.validator} == {0: 'NotEmpty'}">
                                <f:then>
                                    <label for="billingAddress:lastName" class="required">
                                        <f:translate key="tx_cart_domain_model_order_address.last_name"/>
                                        <em>*</em>
                                    </label>
                                    <div class="input-box">
                                        <f:form.textfield id="billingAddress:lastName"
                                                          class="form-control"
                                                          name="billingAddress[lastName]"
                                                          value="{billingAddress.lastName}"
                                                          required="true"/>
                                        <f:form.validationResults for="billingAddress">
                                            <f:if condition="{validationResults.flattenedErrors.lastName}">
                                                <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.lastName.0.message}</div>
                                            </f:if>
                                        </f:form.validationResults>
                                    </div>
                                </f:then>
                                <f:else>
                                    <label for="billingAddress:lastName">
                                        <f:translate key="tx_cart_domain_model_order_address.last_name"/>
                                    </label>
                                    <div class="input-box">
                                        <f:form.textfield id="billingAddress:lastName"
                                                          class="form-control"
                                                          name="billingAddress[lastName]"
                                                          value="{billingAddress.lastName}"/>
                                    </div>
                                </f:else>
                            </f:if>
                        </div>
                    </f:if>
                </li>

                <f:if condition="{0: settings.validation.billingAddress.fields.email.validator} != {0: 'Empty'}">
                    <li>
                        <f:if condition="{0: settings.validation.billingAddress.fields.email.validator} == {0: 'NotEmpty'}">
                            <f:then>
                                <label for="billingAddress:email" class="required">
                                    <f:translate key="tx_cart_domain_model_order_address.email"/>
                                    <em>*</em>
                                </label>
                                <div class="input-box">
                                    <f:form.textfield id="billingAddress:email"
                                                      class="form-control"
                                                      name="billingAddress[email]"
                                                      value="{billingAddress.email}"
                                                      type="email"
                                                      required="true"/>
                                    <f:form.validationResults for="billingAddress">
                                        <f:if condition="{validationResults.flattenedErrors.email}">
                                            <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.email.0.message}</div>
                                        </f:if>
                                    </f:form.validationResults>
                                </div>
                            </f:then>
                            <f:else>
                                <label for="billingAddress:email">
                                    <f:translate key="tx_cart_domain_model_order_address.email"/>
                                </label>
                                <div class="input-box">
                                    <f:form.textfield id="billingAddress:email"
                                                      class="form-control"
                                                      name="billingAddress[email]"
                                                      value="{billingAddress.email}"
                                                      type="email"/>
                                </div>
                            </f:else>
                        </f:if>
                    </li>
                </f:if>

                <f:if condition="{0: settings.validation.billingAddress.fields.phone.validator} != {0: 'Empty'}">
                    <li>
                        <f:if condition="{0: settings.validation.billingAddress.fields.phone.validator} == {0: 'NotEmpty'}">
                            <f:then>
                                <label for="billingAddress:phone" class="required">
                                    <f:translate key="tx_cart_domain_model_order_address.phone"/>
                                    <em>*</em>
                                </label>
                                <div class="input-box">
                                    <f:form.textfield id="billingAddress:phone"
                                                      class="form-control"
                                                      name="billingAddress[phone]"
                                                      value="{billingAddress.phone}"
                                                      type="phone"
                                                      required="true"/>
                                    <f:form.validationResults for="billingAddress">
                                        <f:if condition="{validationResults.flattenedErrors.phone}">
                                            <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.phone.0.message}</div>
                                        </f:if>
                                    </f:form.validationResults>
                                </div>
                            </f:then>
                            <f:else>
                                <label for="billingAddress:phone">
                                    <f:translate key="tx_cart_domain_model_order_address.phone"/>
                                </label>
                                <div class="input-box">
                                    <f:form.textfield id="billingAddress:phone"
                                                      class="form-control"
                                                      name="billingAddress[phone]"
                                                      value="{billingAddress.phone}"
                                                      type="phone"/>
                                </div>
                            </f:else>
                        </f:if>
                    </li>
                </f:if>

                <f:if condition="{0: settings.validation.billingAddress.fields.fax.validator} != {0: 'Empty'}">
                    <li>
                        <f:if condition="{0: settings.validation.billingAddress.fields.fax.validator} == {0: 'NotEmpty'}">
                            <f:then>
                                <label for="billingAddress:fax" class="required">
                                    <f:translate key="tx_cart_domain_model_order_address.fax"/>
                                    <em>*</em>
                                </label>
                                <div class="input-box">
                                    <f:form.textfield id="billingAddress:fax"
                                                      class="form-control"
                                                      name="billingAddress[fax]"
                                                      value="{billingAddress.fax}"
                                                      type="fax"
                                                      required="true"/>
                                    <f:form.validationResults for="billingAddress">
                                        <f:if condition="{validationResults.flattenedErrors.fax}">
                                            <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.fax.0.message}</div>
                                        </f:if>
                                    </f:form.validationResults>
                                </div>
                            </f:then>
                            <f:else>
                                <label for="billingAddress:fax">
                                    <f:translate key="tx_cart_domain_model_order_address.fax"/>
                                </label>
                                <div class="input-box">
                                    <f:form.textfield id="billingAddress:fax"
                                                      class="form-control"
                                                      name="billingAddress[fax]"
                                                      value="{billingAddress.fax}"
                                                      type="fax"/>
                                </div>
                            </f:else>
                        </f:if>
                    </li>
                </f:if>

                <f:if condition="{0: settings.validation.billingAddress.fields.company.validator} != {0: 'Empty'}">
                    <li>
                        <f:if condition="{0: settings.validation.billingAddress.fields.company.validator} == {0: 'NotEmpty'}">
                            <f:then>
                                <label for="billingAddress:company" class="required">
                                    <f:translate key="tx_cart_domain_model_order_address.company"/>
                                    <em>*</em>
                                </label>
                                <div class="input-box">
                                    <f:form.textfield id="billingAddress:company"
                                                      class="form-control"
                                                      name="billingAddress[company]"
                                                      value="{billingAddress.company}"
                                                      required="true"/>
                                    <f:form.validationResults for="billingAddress">
                                        <f:if condition="{validationResults.flattenedErrors.company}">
                                            <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.company.0.message}</div>
                                        </f:if>
                                    </f:form.validationResults>
                                </div>
                            </f:then>
                            <f:else>
                                <label for="billingAddress:company">
                                    <f:translate key="tx_cart_domain_model_order_address.company"/>
                                </label>
                                <div class="input-box">
                                    <f:form.textfield id="billingAddress:company"
                                                      class="form-control"
                                                      name="billingAddress[company]"
                                                      value="{billingAddress.company}"/>
                                </div>
                            </f:else>
                        </f:if>
                    </li>
                </f:if>

                <li>
                    <f:if condition="{0: settings.validation.billingAddress.fields.streetNumber.validator} != {0: 'Empty'}">
                        <f:then>
                            <f:if condition="{0: settings.validation.billingAddress.fields.street.validator} != {0: 'Empty'}">
                                <div class="row">
                                    <div class="col-sm-8 form-columns">
                                        <f:if condition="{0: settings.validation.billingAddress.fields.street.validator} == {0: 'NotEmpty'}">
                                            <f:then>
                                                <label for="billingAddress:street" class="required">
                                                    <f:translate key="tx_cart_domain_model_order_address.street"/>
                                                    <em>*</em>
                                                </label>
                                                <div class="input-box">
                                                    <f:form.textfield id="billingAddress:street"
                                                                      class="form-control"
                                                                      name="billingAddress[street]"
                                                                      value="{billingAddress.street}"
                                                                      required="true"/>
                                                    <f:form.validationResults for="billingAddress">
                                                        <f:if condition="{validationResults.flattenedErrors.street}">
                                                            <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.street.0.message}</div>
                                                        </f:if>
                                                    </f:form.validationResults>
                                                </div>
                                            </f:then>
                                            <f:else>
                                                <label for="billingAddress:street">
                                                    <f:translate key="tx_cart_domain_model_order_address.street"/>
                                                </label>
                                                <div class="input-box">
                                                    <f:form.textfield id="billingAddress:street"
                                                                      class="form-control"
                                                                      name="billingAddress[street]"
                                                                      value="{billingAddress.street}"/>
                                                </div>
                                            </f:else>
                                        </f:if>
                                    </div>
                                    <div class="col-sm-4 form-columns">
                                        <f:if condition="{0: settings.validation.billingAddress.fields.streetNumber.validator} == {0: 'NotEmpty'}">
                                            <f:then>
                                                <label for="billingAddress:streetNumber" class="required">
                                                    <f:translate key="tx_cart_domain_model_order_address.street_number"/>
                                                    <em>*</em>
                                                </label>
                                                <div class="input-box">
                                                    <f:form.textfield id="billingAddress:streetNumber"
                                                                      class="form-control"
                                                                      name="billingAddress[streetNumber]"
                                                                      value="{billingAddress.streetNumber}"
                                                                      required="true"/>
                                                    <f:form.validationResults for="billingAddress">
                                                        <f:if condition="{validationResults.flattenedErrors.streetNumber}">
                                                            <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.streetNumber.0.message}</div>
                                                        </f:if>
                                                    </f:form.validationResults>
                                                </div>
                                            </f:then>
                                            <f:else>
                                                <label for="billingAddress:streetNumber">
                                                    <f:translate key="tx_cart_domain_model_order_address.street_number"/>
                                                </label>
                                                <div class="input-box">
                                                    <f:form.textfield id="billingAddress:streetNumber"
                                                                      class="form-control"
                                                                      name="billingAddress[streetNumber]"
                                                                      value="{billingAddress.streetNumber}"/>
                                                </div>
                                            </f:else>
                                        </f:if>
                                    </div>
                                </div>
                            </f:if>
                        </f:then>
                        <f:else>
                            <f:if condition="{0: settings.validation.billingAddress.fields.street.validator} != {0: 'Empty'}">
                                <div class="row">
                                    <div class="col-sm-12 form-columns">
                                        <f:if condition="{0: settings.validation.billingAddress.fields.street.validator} == {0: 'NotEmpty'}">
                                            <f:then>
                                                <label for="billingAddress:street" class="required">
                                                    <f:translate key="tx_cart_domain_model_order_address.street"/>
                                                    <em>*</em>
                                                </label>
                                                <div class="input-box">
                                                    <f:form.textfield id="billingAddress:street"
                                                                      class="form-control"
                                                                      name="billingAddress[street]"
                                                                      value="{billingAddress.street}"
                                                                      required="true"/>
                                                    <f:form.validationResults for="billingAddress">
                                                        <f:if condition="{validationResults.flattenedErrors.street}">
                                                            <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.street.0.message}</div>
                                                        </f:if>
                                                    </f:form.validationResults>
                                                </div>
                                            </f:then>
                                            <f:else>
                                                <label for="billingAddress:street">
                                                    <f:translate key="tx_cart_domain_model_order_address.street"/>
                                                </label>
                                                <div class="input-box">
                                                    <f:form.textfield id="billingAddress:street"
                                                                      class="form-control"
                                                                      name="billingAddress[street]"
                                                                      value="{billingAddress.street}"/>
                                                </div>
                                            </f:else>
                                        </f:if>
                                    </div>
                                </div>
                            </f:if>
                        </f:else>
                    </f:if>

                    <div class="row">
                        <f:if condition="{0: settings.validation.billingAddress.fields.zip.validator} != {0: 'Empty'}">
                            <div class="col-sm-4 form-columns">
                                <div class="field">
                                    <f:if condition="{0: settings.validation.billingAddress.fields.zip.validator} == {0: 'NotEmpty'}">
                                        <f:then>
                                            <label for="billingAddress:zip" class="required">
                                                <f:translate key="tx_cart_domain_model_order_address.zip"/>
                                                <em>*</em>
                                            </label>
                                            <div class="input-box">
                                                <f:form.textfield id="billingAddress:zip"
                                                                  class="form-control"
                                                                  name="billingAddress[zip]"
                                                                  value="{billingAddress.zip}"
                                                                  required="true"/>
                                                <f:form.validationResults for="billingAddress">
                                                    <f:if condition="{validationResults.flattenedErrors.zip}">
                                                        <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.zip.0.message}</div>
                                                    </f:if>
                                                </f:form.validationResults>
                                            </div>
                                        </f:then>
                                        <f:else>
                                            <label for="billingAddress:zip">
                                                <f:translate key="tx_cart_domain_model_order_address.zip"/>
                                            </label>
                                            <div class="input-box">
                                                <f:form.textfield id="billingAddress:zip"
                                                                  class="form-control"
                                                                  name="billingAddress[zip]"
                                                                  value="{billingAddress.zip}"/>
                                            </div>
                                        </f:else>
                                    </f:if>
                                </div>
                            </div>
                        </f:if>
                        <f:if condition="{0: settings.validation.billingAddress.fields.city.validator} != {0: 'Empty'}">
                            <div class="col-sm-8 form-columns">
                                <div class="field">
                                    <f:if condition="{0: settings.validation.billingAddress.fields.city.validator} == {0: 'NotEmpty'}">
                                        <f:then>
                                            <label for="billingAddress:city" class="required">
                                                <f:translate key="tx_cart_domain_model_order_address.city"/>
                                                <em>*</em>
                                            </label>
                                            <div class="input-box">
                                                <f:form.textfield id="billingAddress:city"
                                                                  class="form-control"
                                                                  name="billingAddress[city]"
                                                                  value="{billingAddress.city}"
                                                                  required="true"/>
                                                <f:form.validationResults for="billingAddress">
                                                    <f:if condition="{validationResults.flattenedErrors.city}">
                                                        <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.city.0.message}</div>
                                                    </f:if>
                                                </f:form.validationResults>
                                            </div>
                                        </f:then>
                                        <f:else>
                                            <label for="billingAddress:city">
                                                <f:translate key="tx_cart_domain_model_order_address.city"/>
                                            </label>
                                            <div class="input-box">
                                                <f:form.textfield id="billingAddress:city"
                                                                  class="form-control"
                                                                  name="billingAddress[city]"
                                                                  value="{billingAddress.city}"/>
                                            </div>
                                        </f:else>
                                    </f:if>
                                </div>
                            </div>
                        </f:if>
                    </div>

                    <f:if condition="{0: settings.validation.billingAddress.fields.country.validator} != {0: 'Empty'}">
                        <div class="row">
                            <div class="col-sm-12 form-columns">
                                <f:if condition="{0: settings.validation.billingAddress.fields.country.validator} == {0: 'NotEmpty'}">
                                    <f:then>
                                        <label for="billingAddress:country" class="required">
                                            <f:translate key="tx_cart_domain_model_order_address.country"/>
                                            <em>*</em>
                                        </label>
                                        <div class="input-box">
                                            <cart:form.select id="billingAddress:country"
                                                              class="form-control"
                                                              name="billingAddress[country]"
                                                              value="{cart.billingCountry}"
                                                              options="{settings.allowedCountries}"
                                                              translationKey="tx_cart.settings.allowed_countries"
                                                              required="true"/>
                                            <f:form.validationResults for="billingAddress">
                                                <f:if condition="{validationResults.flattenedErrors.country}">
                                                    <div class="validation-error alert alert-danger">{validationResults.flattenedErrors.country.0.message}</div>
                                                </f:if>
                                            </f:form.validationResults>
                                        </div>
                                    </f:then>
                                    <f:else>
                                        <label for="billingAddress:country">
                                            <f:translate key="tx_cart_domain_model_order_address.country"/>
                                        </label>
                                        <div class="input-box">
                                            <cart:form.select id="billingAddress:country"
                                                              class="form-control"
                                                              name="billingAddress[country]"
                                                              value="{cart.billingCountry}"
                                                              options="{settings.allowedCountries}"
                                                              translationKey="tx_cart.settings.allowed_countries"/>
                                        </div>
                                    </f:else>
                                </f:if>
                            </div>
                        </div>
                    </f:if>
                </li>
            </ul>
        </fieldset>
    </div>
</div>